(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{200:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p"),t._m(1),a("p"),t._v(" "),a("p",[t._v("受到 "),a("a",{attrs:{href:"https://github.com/fastnlp/fitlog",target:"_blank",rel:"noopener noreferrer"}},[t._v("fitlog"),a("OutboundLink")],1),t._v(" 的启发，"),a("code",[t._v("thexp")]),t._v(" 实现了一套和 git 相配合的试验管理方法，该模块位于 "),a("a",{attrs:{href:"https://github.com/sailist/thexp/blob/master/thexp/frame/experiment.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("thexp.frame.experiment"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("本节的示例位于 "),a("a",{attrs:{href:"https://github.com/sailist/thexp/blob/master/examples/7.exp.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("examples/7.exp.py"),a("OutboundLink")],1),t._v("，但在使用该模块之前，你可能需要先接受 "),a("code",[t._v("thexp")]),t._v(" 对路径组织的相关设定。这也是我个人认为的试验中间数据存储的最佳实践。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("试验、程序项目、课题...这些概念之间的关系应该是什么样的呢？做试验的时候可能都不会注意这些概念，但当有了对试验组织的需求后，就需要明确这些关系。在我复现过的一些实验中，很多都是将中间数据（模型、日志等）存储放在项目一个文件夹下，其命名由各个超参数值构成，我在最初也尝试过这种构建方法，但最终选择抛弃不用。")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("首先确认你安装了 "),a("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("git"),a("OutboundLink")],1),t._v("，不论你是否使用 "),a("code",[t._v("thexp")]),t._v(" 进行试验管理，我都强烈建议使用 git 进行项目管理")])]),t._v(" "),t._m(11),a("p",[t._v("输出：")]),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),a("p",[t._v("多次试验结束后，生成的目录如下图所示：")]),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("比如，你可以存储超参数")]),t._v(" "),t._m(24),a("p",[t._v("或日志保存位置")]),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),a("p",[t._v("你可以很方便的遍历本地所有的试验：")]),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._m(39),t._v(" "),t._m(40),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),a("p",[t._v("在命令行参数中输入以下命令")]),t._v(" "),t._m(45),a("p",[t._v("如果你想在 jupyter notebook 中临时打开或有其他用途，你也可以通过代码运行")]),t._v(" "),t._m(46),t._m(47),t._v(" "),a("p",[t._v("根据输出的地址打开网页，你会看到如下的界面：\n"),a("img",{attrs:{src:t.$withBase("/img/web_ui.png"),alt:"foo"}})]),t._v(" "),a("p",[t._v("具体的，有对试验结果的初步展示表格\n"),a("img",{attrs:{src:t.$withBase("/img/web_ui_table.png"),alt:"foo"}})]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("复制一切")]),t._v(" "),a("p",[t._v("通过内部的实现逻辑，对于大多数字符串，"),a("strong",[t._v("均提供了点击即可复制的功能或根据提示点击复制的功能")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/img/web_ui_copy.png"),alt:"foo"}})])]),t._v(" "),t._m(48),t._v(" "),a("p",[t._v("通过点击试验ID，可以看到单个试验信息的数据记录（其中所有的字符串类型同样点击即可复制）。（前端中的所有试验ID均可以通过点击的方式查看其详细信息）\n"),a("img",{attrs:{src:t.$withBase("/img/web_ui_drawer.png"),alt:"foo"}})]),t._v(" "),a("p",[t._v("你可以在其中看到插件注册的信息，这是后端通过统一可扩展的接口来实现的，如果要手动定制这部分信息，可以参考 "),a("a",{attrs:{href:""}},[t._v("前端扩展")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/img/web_ui_drawer_plugin.png"),alt:"foo"}})]),t._v(" "),t._m(49),t._v(" "),a("p",[t._v("对各试验中 params 中变量和利用 tensorboard 记录的变量的极值（最大或最小值，会根据趋势以及变量命名进行猜测）进行对比，这依赖于 "),a("code",[t._v("Params")]),t._v(" 和 "),a("code",[t._v("Writer")]),t._v(" 两个插件\n"),a("img",{attrs:{src:t.$withBase("/img/web_stat_compare.png"),alt:"foo"}})]),t._v(" "),t._m(50),t._v(" "),a("p",[t._v("对记录变量的曲线图绘制，会自动根据 tensorboard 中记录时的 step 进行对齐\n"),a("img",{attrs:{src:t.$withBase("/img/web_stat_plot.png"),alt:"foo"}})]),t._v(" "),a("p",[t._v("以及两种基本的统计图\n"),a("img",{attrs:{src:t.$withBase("/img/web_stat_table.png"),alt:"foo"}})]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("关于Python3.5的Pyechart支持问题")]),t._v(" "),a("p",[t._v("前端的图表绘制基于 echarts，其 options通过后端的 pyecharts 库生成，因此需要额外安装 pyechart；此外，由于 pyecharts 不支持 python3.5，因此使用 python3.5 的用户，可以通过以下的代码安装支持 python3.5 的 "),a("a",{attrs:{href:"https://github.com/sailist/pyecharts",target:"_blank",rel:"noopener noreferrer"}},[t._v("pyecharts"),a("OutboundLink")],1),t._v("（我将其中不符合 3.5 语法特性的语句进行了修改后发布为 "),a("code",[t._v("pyecharts35")]),t._v("。）")]),t._v(" "),t._m(53)]),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),a("p",[t._v("使用方法：")]),t._v(" "),t._m(57),a("p",[t._v("输出")]),t._v(" "),t._m(58),t._m(59),t._v(" "),t._m(60),t._m(61)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"试验管理：experiment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#试验管理：experiment","aria-hidden":"true"}},[this._v("#")]),this._v(" 试验管理：Experiment")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#路径组织"}},[t._v("路径组织")])]),a("li",[a("a",{attrs:{href:"#基本使用"}},[t._v("基本使用")])]),a("li",[a("a",{attrs:{href:"#试验信息记录"}},[t._v("试验信息记录")]),a("ul",[a("li",[a("a",{attrs:{href:"#使用插件记录一切"}},[t._v("使用插件记录一切")])])])]),a("li",[a("a",{attrs:{href:"#试验分析与查找"}},[t._v("试验分析与查找")])]),a("li",[a("a",{attrs:{href:"#代码归档和重置"}},[t._v("代码归档和重置")])]),a("li",[a("a",{attrs:{href:"#dashboard"}},[t._v("DashBoard")]),a("ul",[a("li",[a("a",{attrs:{href:"#启动"}},[t._v("启动")])]),a("li",[a("a",{attrs:{href:"#基本界面"}},[t._v("基本界面")])]),a("li",[a("a",{attrs:{href:"#详细数据展示与分析"}},[t._v("详细数据展示与分析")])])])]),a("li",[a("a",{attrs:{href:"#多级配置"}},[t._v("多级配置")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("当然，如果您有更好的方式，欢迎 Issue ，我会选择使用更合适的方式来组织试验目录。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"路径组织"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路径组织","aria-hidden":"true"}},[this._v("#")]),this._v(" 路径组织")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("太长的参数不利于在服务器上切换目录，固定的参数对应的多次重复试验也无法很好的进行分辨和记录。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("在"),a("code",[t._v("thexp")]),t._v("的理解中，一般的试验流程为，根据某一个"),a("strong",[t._v("课题（project）")]),t._v("，创建一个"),a("strong",[t._v("项目（repository）")]),t._v("，在项目中一步步的设计多个"),a("strong",[t._v("实验（experiment）")]),t._v("，而每一个实验都可能有多次运行代码的需求，一次代码的运行过程中可能会尝试多个实验或重复验证某实验，也即多次"),a("strong",[t._v("试验（test）")]),t._v("。此时每一次运行代码就需要在 git 中进行一次提交，而一次代码运行期间的多次试验则通过序号来进行标识，确保全局 试验ID 不存在重复。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("为什么以代码运行为单位而不是试验为单位进行提交？")]),this._v(" "),s("p",[this._v("Python 在代码运行期间，使用的代码为运行时候获取到的代码。因此如果以试验为单位进行提交，中途可能会因为项目代码变更导致试验和代码无法对映。（仍然存在代码运行中间才新导入某个文件的情形，这种情况没有很好的办法进行判断，但在具体操作中很少能出现这种事故，对其有一定概念即可）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("最终，"),s("code",[this._v("thexp")]),this._v(" 确定的目录结构如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("{可自由设置的存储根目录}/{项目名}.{项目hash}/{   实验名   }/{本次提交的试验次数}.{提交hash}/\n--------------------   -------------------   -----------  ---------------------------\n                          项目目录            实验级目录           试验级目录\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("没有课题级别的目录，课题在这里的表现是可能具有相同的项目名，但是本地存储路径不同，也即，在 git 中表现为不同的 repository。而 "),s("code",[this._v("thexp")]),this._v(" 会对不同的项目分配一个两位ID对相同的项目名进行区分。（每一位均为随机的数字或字母，因此重复概率为 1/1296）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本使用")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Experiment\n\nexp "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Experiment"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"expname"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 程序运行过程中第一次创建 Experiment 对象会产生一次提交，之后重复创建不会产生提交，但是获取到的试验目录会不同")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make_exp_dir"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"explevel"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 分配 experiment 级别的目录")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("print")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedir"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"testlevel"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# 分配 test 级别的目录")]),t._v("\n\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# exp.end() # 可选项，否则Experiment会在程序退出前自动调用该方法结束试验")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("{path}\\{proj_name}\\expname\\explevel\n{path}\\{proj_name}\\expname\\0003.e09411bc\\testlevel\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("在使用了 "),a("code",[t._v("Experiment")]),t._v(" 类后，你可以很方便为 "),a("code",[t._v("Params")]),t._v("/"),a("code",[t._v("Saver")]),t._v("/"),a("code",[t._v("Logger")]),t._v("/"),a("code",[t._v("RndManager")]),t._v(" 和你的其他内容分配合适的路径，来记录试验过程。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("git 初始化")]),t._v(" "),a("p",[t._v("如果你的项目还不是git repository，那么一个简单的引导界面将会帮助你直接完成 git repo 的初始化，如果你的程序运行路径就在项目的根目录下，那么可以直接回车确认，否则可能需要键入你创建的项目路径。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Cmd('git') failed due to: exit code(128)\n  cmdline: git rev-parse --git-dir\n  stderr: 'fatal: not a git repository (or any of the parent directories): .git'\nfatal: not a git repository (or any of the parent directories)\n-----------------------\ntype root path to init this project, \n(default: ... , type '!' to ignore\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("如果你想取消，除了 "),a("code",[t._v("KeyboardInterrupt")]),t._v(" 外，还可以通过键入 "),a("code",[t._v("!")]),t._v(" 来忽略，之后对 git 必需的功能将会抛出异常，不必需的功能"),a("strong",[t._v("有可能")]),t._v("会正常运行。")]),t._v(" "),a("p",[t._v("初始化过程除了建立 git repo 外，还会设置一些配置项，为该项目分配试验存储路径（默认在项目路径的 ./thexp/experiments 下）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("::: git 提交分支\n"),s("code",[this._v("thexp")]),this._v(" 对代码的所有提交均位于 experiment 分支，并且会在提交完后切换会原分支（一般为默认的 master 分支）。"),s("code",[this._v("thexp")]),this._v(" 中所有涉及 git 的操作都尽最大可能保证不污染分支和可恢复。\n:::")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"试验信息记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#试验信息记录","aria-hidden":"true"}},[this._v("#")]),this._v(" 试验信息记录")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("└─...\n    ├─expname\n    │  ├─0001.f9827e4a\n    │  │  │  info.json\n    │  │  └─testlevel\n    │  ├─0002.e5aba42a\n    │  │  │  info.json\n    │  │  └─testlevel\n    │  ├─0003.e09411bc\n    │  │  │  info.json\n    │  │  │  Exception\n    │  │  └─testlevel\n    ...\n    │  └─explevel    \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("Experiment")]),t._v(" 会自动的记录程序退出情况（当然你也可以手动结束），在通过调用 "),a("code",[t._v("Experiment")]),t._v(" 方法记录各种变更时，这些信息均会以 json 格式被记录在试验目录下的 "),a("code",[t._v("info.json")]),t._v(" 文件中。如果有异常，那么完整的异常栈会被输出到试验目录下的 "),a("code",[t._v("Exception")]),t._v(" 中。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("info.json")]),t._v(" "),a("p",[t._v("一个 "),a("code",[t._v("info.json")]),t._v(" 文件将包含以下基本信息")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"repo"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"E:\\\\Python\\\\thexp-test3"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"argv"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"E:/Python//thexp-test3/ex_trainer.py"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"exp_name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"V2.__main__"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"exp_dir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"e:/python/thexp-test3/.thexp/experiments\\\\thexp-test3.b0\\\\V2.__main__"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"test_name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"0001.cbf636c4"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"test_dir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"e:/python/thexp-test3/.thexp/experiments\\\\thexp-test3.b0\\\\V2.__main__\\\\0001.cbf636c4"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"root_dir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"e:/python/thexp-test3/.thexp/experiments"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"project_name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"thexp-test3"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"project_iname"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"thexp-test3.b0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"project_dir"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"e:/python/thexp-test3/.thexp/experiments\\\\thexp-test3.b0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"commit_hash"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cbf636c4a9de757dcf9a10714a287cce9c86ece7"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"short_hash"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"cbf636c4"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"dirs"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"board"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"time_fmt"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"%Y-%m-%d %H:%M:%S"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"start_time"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2020-05-29 11:21:26"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"params"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      ...\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"end_time"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2020-05-29 11:21:37"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"end_code"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"使用插件记录一切"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用插件记录一切","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用插件记录一切")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("凡走过，必留下痕迹。 ——艾德蒙·罗卡")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在日志输出、模型存储、数据记录等过程中存储的数据在试验量级变大后并不是很好管理，因为各个试验对这些功能的存储位置、甚至是否使用等情况可能各不相同。换个角度思考，我们缺少对这些存储数据的"),s("strong",[this._v("元数据")]),this._v("记录。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("thexp")]),t._v(" 因此提出了插件这一概念。在试验中产生的任何存储过程或其他各种各样"),a("strong",[t._v("与试验核心内容无关的部份")]),t._v("，都被看做是插件（plugin）。"),a("code",[t._v("thexp")]),t._v(" 推荐在试验过程中将所有使用到的插件通过 "),a("code",[t._v("Experiment")]),t._v(" 进行记录。这会有助于我们对多个试验进行分析。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Params\n\nparams "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Params"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("regist_plugin"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"params"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token builtin"}},[t._v("dict")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    _param_hash "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token builtin"}},[t._v("hash")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    data "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inner_dict"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jsonify"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Logger\n\nlogger "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Logger"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfn "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_log_dir"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makedir"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'logger'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("regist_plugin"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'logger'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token builtin"}},[t._v("dict")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    fn "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("所有的这些信息都会一同放在 "),s("code",[this._v("info.json")]),this._v(" 中。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("统一带来简约，简约提升效率")]),t._v(" "),a("p",[t._v("实际上，利用"),a("code",[t._v("Experiment")]),t._v(" 的目录组织，即使不通过 "),a("code",[t._v("regist_plugin")]),t._v(" 方法存储元数据，你也能够通过各种判断来完成这些信息的获取。但将所有的数据统一到 "),a("code",[t._v("info.json")]),t._v(" 中，并通过 "),a("code",[t._v("thexp")]),t._v(" 中提供的 "),a("a",{attrs:{href:"#%E4%BB%A3%E7%A0%81%E5%BD%92%E6%A1%A3%E5%92%8C%E9%87%8D%E7%BD%AE"}},[t._v("分析功能")]),t._v("，你可以用更统一的方式处理不同的各类插件。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"试验分析与查找"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#试验分析与查找","aria-hidden":"true"}},[this._v("#")]),this._v(" 试验分析与查找")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("thexp.analyse")]),t._v(" 中提供了对试验的查找和分析功能，建立了"),a("code",[t._v("Summary")]),t._v("/"),a("code",[t._v("Project")]),t._v("/"),a("code",[t._v("Exp")]),t._v("/"),a("code",[t._v("Test")]),t._v(" 四个粒度的 "),a("code",[t._v("Viewer")]),t._v("并将其联结起来。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("analyser "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SummaryViewer\n\nsv "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SummaryViewer"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pprint "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pprint\npprint"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sv"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tree"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("depth"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("# 修改不同的深度值，你可以得到不同粒度的试验信息")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也可以通过各种名字查找对应级别的"),s("code",[this._v("Viewer")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token builtin"}},[t._v("globals")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" _DLEVEL\nsv"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'exp_name1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token string"}},[t._v("'exp_name2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("level"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("_DLEVEL"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exp"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("认为遍历查找太麻烦，你也可以一键返回所有的 "),s("code",[this._v("Test")]),this._v(" 再进行筛选：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("sv"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token builtin"}},[t._v("all")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# List[TestViewer]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"代码归档和重置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码归档和重置","aria-hidden":"true"}},[this._v("#")]),this._v(" 代码归档和重置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在之前对试验目录组织的说明中，如果你熟悉 git ，可能已经想到了利用提交来对代码进行恢复。"),s("code",[this._v("thexp")]),this._v("  确实实现了这一功能。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("你可以对某次的代码进行打包（基于 "),s("code",[this._v("git archive")]),this._v("）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("analyser"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expviewer "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SummaryViewer\n"),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utils"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitutils "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" archive\n\nviewer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SummaryViewer"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nres "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" viewer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'0002.41505917'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexp "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" archive"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# type:Experiment")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也可以将代码恢复到某一次试验（基于 "),s("code",[this._v("git checkout")]),this._v("/"),s("code",[this._v("git branch")]),this._v("/"),s("code",[this._v("git reset")]),this._v(")")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("analyser"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expviewer "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SummaryViewer\n"),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utils"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gitutils "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" reset\n\nviewer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SummaryViewer"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nres "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" viewer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'0001.8e7f52e2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nexp "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" reset"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("# type:Experiment")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("可恢复性")]),t._v(" "),a("p",[t._v("打包和重置操作在 "),a("code",[t._v("thexp")]),t._v(" 中同样是被当做是一次试验操作，对打包操作来说，这一行为为打包提供了存储目录；而对重置操作，这意味这"),a("strong",[t._v("你可以通过重置时的试验名，随时恢复到重置前的状态")]),t._v("。")]),t._v(" "),a("p",[t._v("打包和重置操作的实验名分别为 "),a("code",[t._v("Archive")]),t._v(" 和 "),a("code",[t._v("Reset")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dashboard","aria-hidden":"true"}},[this._v("#")]),this._v(" DashBoard")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("thexp")]),this._v(" 如果你遵循上述的 "),s("code",[this._v("Experiment")]),this._v(" 的使用约定，那么 "),s("code",[this._v("thexp")]),this._v(" 就可以为你提供一个尽可能详细的数据面板来观察、对比、分析你的试验。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("thexp board\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("analyser"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" api\napi"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"基本界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本界面","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本界面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"详细数据展示与分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#详细数据展示与分析","aria-hidden":"true"}},[this._v("#")]),this._v(" 详细数据展示与分析")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你通过 tensorboard 记录了试验过程的各种信息，并以 "),s("code",[this._v("writer")]),this._v(" 的插件名注册到了 "),s("code",[this._v("Experiment")]),this._v(" 中，那么你可以很方便的对试验过程的各类变量进行统计和图表绘制。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("这在 tensorboard 中可以通过 "),s("code",[this._v("writer.add_hparams(...)")]),this._v(" 来实现类似的方法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("高度可定制")]),this._v(" "),s("p",[this._v("称其为基本是因为，这些都是完全可定制的，自动化生成必然会缺少一定的定制性，因此 "),s("code",[this._v("thexp")]),this._v(" 允许你对统计方法进行拓展，不需要更改前端就可以实现新的统计方法，详见 "),s("a",{attrs:{href:""}},[this._v("前端扩展")]),this._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("因为技术原因，flask 仍然处于开发模式，不过在使用方面不受影响。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("pip "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" pyecharts35 -U\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"多级配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多级配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 多级配置")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("thexp 同时还提供了一个配合 git 的全局配置变量， "),a("code",[t._v("glob")]),t._v("，提供了"),a("code",[t._v("user")]),t._v("、"),a("code",[t._v("repository")]),t._v("、"),a("code",[t._v("exp")]),t._v("三个级别的配置，其中：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("user")]),t._v("级别的配置以 json 格式存储于"),a("code",[t._v("$home/.thexp/config.json")]),t._v("，会在任何 thexp 相关包导入的时候进行初始化；")]),t._v(" "),a("li",[a("code",[t._v("repository")]),t._v("级别的配置通过 git 存储在当前项目下的 "),a("code",[t._v("config")]),t._v(" 中；默认会设置当前目录下的"),a("code",[t._v(".thexp/")]),t._v("为试验存储目录，此外，会对 "),a("code",[t._v(".gitignore")]),t._v(" 文件进行检查，将 "),a("code",[t._v(".thexp/")]),t._v(" 文件夹添加进去。")]),t._v(" "),a("li",[a("code",[t._v("exp")]),t._v("是运行时配置，相当于全局的 Params，任何在运行时的配置设置均为运行时配置。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" glob\n\nglob"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'a'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# glob.add_value(\"key\",'value','user')")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# glob.add_value(\"key\",'value','exp')")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# glob.add_value(\"key\",'value','repository')")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pprint "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pprint\npprint"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("glob"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("{'exp': odict_items([('a', 4)]),\n 'repository': [('projname', 'thexp'),\n                ('expsdir', '...')],\n 'user': dict_items([('datasets', '...'), ('a', '1'), ('exps_save_dir', '...')])}\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br"),s("span",{staticClass:"line-number"},[this._v("4")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Experiment")]),this._v(" 类内部通过引用glob变量也能够完成配置读取")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" thexp "),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Experiment\nexp "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Experiment"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"expname"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npprint"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exp"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config_items"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("哪些需要全局变量？")]),this._v(" "),s("p",[this._v("目前推荐将数据集目录添加在全局配置中。暂未发现比较推荐全局共有的变量。从这个角度看，全局配置这个功能可能是一个鸡肋（Orz")])])}],!1,null,null,null);e.options.__file="8-experiment.md";s.default=e.exports}}]);