<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | thexp</title>
    <meta name="description" content="主要面向 Pytorch 的深度学习试验框架&amp;工具包">
    
    
    <link rel="preload" href="/thexp/assets/css/styles.c3a1aa56.css" as="style"><link rel="preload" href="/thexp/assets/js/app.c3a1aa56.js" as="script"><link rel="preload" href="/thexp/assets/js/9.65142c8b.js" as="script"><link rel="prefetch" href="/thexp/assets/css/1.styles.23651f03.css"><link rel="prefetch" href="/thexp/assets/js/1.23651f03.js"><link rel="prefetch" href="/thexp/assets/css/2.styles.f4982afc.css"><link rel="prefetch" href="/thexp/assets/js/2.f4982afc.js"><link rel="prefetch" href="/thexp/assets/css/3.styles.374ccaa9.css"><link rel="prefetch" href="/thexp/assets/js/3.374ccaa9.js"><link rel="prefetch" href="/thexp/assets/css/4.styles.405c6f5d.css"><link rel="prefetch" href="/thexp/assets/js/4.405c6f5d.js"><link rel="prefetch" href="/thexp/assets/css/5.styles.3f8bcc45.css"><link rel="prefetch" href="/thexp/assets/js/5.3f8bcc45.js"><link rel="prefetch" href="/thexp/assets/css/6.styles.140f434c.css"><link rel="prefetch" href="/thexp/assets/js/6.140f434c.js"><link rel="prefetch" href="/thexp/assets/js/7.3fd7ef3c.js"><link rel="prefetch" href="/thexp/assets/js/8.7f1d8a78.js"><link rel="prefetch" href="/thexp/assets/js/10.e6377a14.js"><link rel="prefetch" href="/thexp/assets/js/11.bbe6ccda.js"><link rel="prefetch" href="/thexp/assets/js/12.4c22ddce.js"><link rel="prefetch" href="/thexp/assets/js/13.c655471a.js"><link rel="prefetch" href="/thexp/assets/js/14.b2774506.js"><link rel="prefetch" href="/thexp/assets/js/15.3908a8d6.js"><link rel="prefetch" href="/thexp/assets/js/16.e04c7e15.js"><link rel="prefetch" href="/thexp/assets/js/17.2f84a087.js"><link rel="prefetch" href="/thexp/assets/js/18.47ddf0ad.js"><link rel="prefetch" href="/thexp/assets/js/19.0bede2b4.js"><link rel="prefetch" href="/thexp/assets/js/20.c10a4079.js"><link rel="prefetch" href="/thexp/assets/js/21.c49d3339.js">
    <link rel="stylesheet" href="/thexp/assets/css/styles.c3a1aa56.css"><link rel="stylesheet" href="/thexp/assets/css/1.styles.23651f03.css"><link rel="stylesheet" href="/thexp/assets/css/2.styles.f4982afc.css"><link rel="stylesheet" href="/thexp/assets/css/3.styles.374ccaa9.css"><link rel="stylesheet" href="/thexp/assets/css/4.styles.405c6f5d.css"><link rel="stylesheet" href="/thexp/assets/css/5.styles.3f8bcc45.css"><link rel="stylesheet" href="/thexp/assets/css/6.styles.140f434c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/thexp/" class="home-link router-link-active"><!----> <span class="site-name">thexp</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/thexp/" class="nav-link">Home</a></div><div class="nav-item"><a href="/thexp/tutorial/1-introduction.html" class="nav-link">Tutorial</a></div><div class="nav-item"><a href="/thexp/cookbook/1-introduction.html" class="nav-link router-link-exact-active router-link-active">Cookbook</a></div><div class="nav-item"><a href="/thexp/about/" class="nav-link">About</a></div> <a href="https://github.com/sailist/thexp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/thexp/" class="nav-link">Home</a></div><div class="nav-item"><a href="/thexp/tutorial/1-introduction.html" class="nav-link">Tutorial</a></div><div class="nav-item"><a href="/thexp/cookbook/1-introduction.html" class="nav-link router-link-exact-active router-link-active">Cookbook</a></div><div class="nav-item"><a href="/thexp/about/" class="nav-link">About</a></div> <a href="https://github.com/sailist/thexp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Cookbook</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/thexp/cookbook/1-introduction.html" class="active sidebar-link">介绍</a></li><li><a href="/thexp/cookbook/2-structure.html" class="sidebar-link">项目结构指南</a></li><li><a href="/thexp/cookbook/3-more-important.html" class="sidebar-link">重要的永远不是工具</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h1> <p><code>cookbook</code> 的目的是什么？为什么要写 <code>cookbook</code>？</p> <p>由于我初入科研路，因此还没有复现过太多的代码。但是，就我的阅读体验而言，大多数代码的可读性都是很差的。我一开始觉得很不解，后来我写起来实验，就明白了一些。</p> <p>实验在未成型前，可能只有一两个文件，然后随着不断的补充实验，多次实验，代码文件会越来越壮大，而在这个时候修改原有的代码，调整代码结构保证可读性，就是一个很繁琐的事情，于是就干脆不修改，引用来引用过去，<strong>能用就行</strong>。当然也存在其他的情况，比如其他专业投身于深度学习事业，因为非科班出身而无法写出很好的代码。两者（或者更多其他的原因）无法得知哪一部分占比更大，但其最终的结果，大概就是深度学习相关的开源项目变成了平均代码质量最差的项目。</p> <p>（如果将各领域在github上 star 最多的项目拿出来比代码质量，或许深度学习领域学术相关的项目的代码质量可能是最糟糕的。）</p> <p>我觉得现象的原因在于，在各个领域，各种语言，在相应的各种大中小型项目中，基本都会有或多或少的规范或约定来帮助我们提高代码的可读性，但深度学习没有。</p> <p>代码读起来十分困难的这种感觉我在一开始学习 js 的时候也经常体会过，和深度学习相似，由于 js 发展过快，过于野蛮生长，导致各种写法混杂。然而，js 中出现了 eslint 等工具用来帮忙规范代码，vue等框架、webpack这类打包工具也在组织 js 代码的过程中起到了很大的作用，但深度学习没有。</p> <p>数据集在哪里定义，以什么样的规范读取；训练函数如何命名，各模块之间的代码如何组织，论文中的符号如何在代码中找到对应...这些在各个炼丹师之间几乎没有任何共识。之前我在知乎看到过一位学者提到的深度学习整体的一个问题就是代码质量太差，这个问题随着我做的和复现的实验的增多而逐渐开始理解。规范，约定对于深度学习实验代码来说，是既必不可少，又可有可无的东西：没有规范，每读一篇论文源码就要适应一个风格；但我要是跑出了sota，你管我代码写的多烂，还不是要过来看？NB就完事了。</p> <p>其他领域项目之间是没有最好一说的，百花齐放是常态，这个项目写的烂大不了我换一个项目用；但在深度学习界，你sota了那就是这个领域最好的，你不看我的代码你还真的不知道我在论文里省略了多少细节，是怎么跑出来的sota。</p> <p>而更南的是，Google 的 TensorFlow 不仅不去主动的约束这一点，还使用可读性和定位性奇差的 FLAGs 来定义命令行参数，我觉得这简直是一场灾难。（该项目的注释明明都是Google doc风格的啊！）</p> <p>但我仍然认为，遵守一个良好的代码约定和实验规范能够有效的提升科研的效率。如果代码可读性良好，如果实验流程控制规范，那么理所当然能够节省下大量的时间。</p> <p>因此，<code>cookbook</code> 的作用不言自明。</p> <p>实际上，我个人人微言轻，刚入科研圈，也没啥说话的资格，由于没有实习，也没啥真正的项目经历。但作为一个工科男，我有着和毕导一样的思维：<strong>如果一个单调重复的事情花了我30分钟，我原意花一天的时间研究怎么把这个事情减少到5分钟甚至更少</strong>。这也是这个项目能够最终完成的核心动机。发论文要讲好一个故事，我的这个项目虽然和论文之类的学术完全不同，但我认为，这个项目开发的故事也是一个好的故事。</p> <p>这个项目最终的结果会是什么呢？在最差的情况下，可能只有少数人会使用该项目（什么？最差情况是只有我一个人？这个工具这么好用怎么可能）；而在最好的情况下，或许我有机会见证深度学习代码风格的慢慢转变（当然，这个转变可能不是由该项目引起的）。我不会刻意去推广，这个项目最终能走到哪里，就看它自身的造化了。</p> <p>闲话就说到这里。在接下来的篇幅中会从一个简单的mnist项目开始，演示在项目规模逐渐扩大的时候，文件是如何组织以保证高可读性的。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>此外，即使你不使用该项目，也希望相应的代码组织方式能够对你有所帮助，从而提升你的代码可读性和编写效率，为深度学习炼丹命运共同体的代码质量提高出一份力（笑。</p></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/30/2020, 5:35:22 PM</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/thexp/cookbook/2-structure.html">
          项目结构指南
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/thexp/assets/js/9.65142c8b.js" defer></script><script src="/thexp/assets/js/app.c3a1aa56.js" defer></script>
  </body>
</html>
